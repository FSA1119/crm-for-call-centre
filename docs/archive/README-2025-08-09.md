# ğŸ¢ Google Sheets CRM System

## ğŸ“‹ Proje Ã–zeti

Google Sheets Ã¼zerinde Ã§ok kullanÄ±cÄ±lÄ± CRM sistemi ile temsilci-yÃ¶netici senkronizasyonu ve deÄŸiÅŸiklik takibi.

## ğŸ¯ Ana Ã–zellikler

- **6 Temsilci DosyasÄ±** + **1 YÃ¶netici DosyasÄ±**
- **12 Ana Fonksiyon** ile tam CRM yÃ¶netimi
- **Otomatik Senkronizasyon** sistemi
- **Website Analiz** araÃ§larÄ± (CMS, E-ticaret, HÄ±z testi)
- **Pivot Table** raporlama sistemi
- **Renk Kodlu** durum takibi

## ğŸ“ Dosya YapÄ±sÄ±

```
Google-Sheets-CRM/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â””â”€â”€ backend.js           # Ana CRM sistemi (Temsilci)
â”‚   â”œâ”€â”€ managers/
â”‚   â”‚   â””â”€â”€ manager-sync.js      # YÃ¶netici senkronizasyon sistemi
â”‚   â”œâ”€â”€ shared/
â”‚   â”‚   â”œâ”€â”€ fix-firsatlarim-validation.js
â”‚   â”‚   â””â”€â”€ smart-column-mapping.js
â”‚   â”œâ”€â”€ html-dialogs/
â”‚   â”‚   â”œâ”€â”€ appointmentDialog.html
â”‚   â”‚   â”œâ”€â”€ opportunityDialog.html
â”‚   â”‚   â”œâ”€â”€ meetingDialog.html
â”‚   â”‚   â””â”€â”€ managerMeetingDialog.html
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ (yardÄ±mcÄ± dosyalar)
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ technical-specification.md
â”‚   â”œâ”€â”€ sistem_semasi.md
â”‚   â”œâ”€â”€ sayfa_kolonlari.md
â”‚   â””â”€â”€ RENK_KODLARI.md
â””â”€â”€ README.md
```

## ğŸš€ Kurulum

### Git'ten En Son Versiyonu YÃ¼kleme

```bash
# Mevcut projeyi klonlayÄ±n
git clone [repository-url]
cd Google-Sheets-CRM

# TÃ¼m versiyonlarÄ± gÃ¶rÃ¼n
git tag -l

# En son versiyona geÃ§in (v3.7)
git checkout v3.7-etap3.7
```

## ğŸ”„ **Versiyon YÃ¶netimi**

### ğŸ“‹ **Mevcut Versiyon:**
- **`v3.7-etap3.7`** - Ana stabil versiyon (CRM menÃ¼sÃ¼nden Yeni Tablo kaldÄ±rma)

### ğŸ”™ **v3.7'ye DÃ¶nme:**
```bash
# v3.7'ye dÃ¶nmek iÃ§in:
git checkout v3.7-etap3.7
```

### ğŸ”™ **v3.7'den Devam Etme:**
```bash
# v3.7'den devam etmek iÃ§in:
git checkout v3.7-etap3.7
git checkout -b devam-branch
```

### ğŸ“Š **Mevcut Durumu Kontrol Etme:**
```bash
# Hangi versiyonda olduÄŸunuzu gÃ¶rmek iÃ§in:
git describe --tags

# Son commit bilgilerini gÃ¶rmek iÃ§in:
git log --oneline -10

# TÃ¼m versiyonlarÄ± gÃ¶rmek iÃ§in:
git tag -l
```

### 0. Ham Veri FormatÄ±

**Desteklenen Ham Veri FormatÄ± (v3):**
```
Keyword | Location | Company name | Category | Website | Phone | Email 1 | Email 2 | Email 3 | Address | City | State | Pincode | Rating count | Review | Cid
```

**Ã–rnek Veri:**
```
hÄ±rdavat | izmit | MAZLUM TEKNÄ°K HIRDAVAT | Department store | | 0532 748 04 20 | | | | Ä°ZMÄ°T SANAYÄ° SÄ°TESÄ° 401 BLOK NO, D:5, 41140 Kocaeli | Ä°zmit/Kocaeli | | 41140 | 264 | 4.2 | https://maps.google.com/?cid=13065953095889504726
```

### 1. Google Sheets'e Kod Ekleme

#### Temsilci DosyasÄ± Ä°Ã§in:
1. Google Sheets dosyanÄ±zÄ± aÃ§Ä±n
2. **Extensions** â†’ **Apps Script** seÃ§in
3. `src/agents/backend.js` dosyasÄ±nÄ±n iÃ§eriÄŸini kopyalayÄ±p yapÄ±ÅŸtÄ±rÄ±n
4. HTML dosyalarÄ±nÄ± da ekleyin:
   - `src/html-dialogs/appointmentDialog.html`
   - `src/html-dialogs/opportunityDialog.html`
   - `src/html-dialogs/meetingDialog.html`
   - `meetingDialog.html`

#### YÃ¶netici DosyasÄ± Ä°Ã§in:
1. Google Sheets dosyanÄ±zÄ± aÃ§Ä±n
2. **Extensions** â†’ **Apps Script** seÃ§in
3. `src/managers/manager-sync.js` dosyasÄ±nÄ±n iÃ§eriÄŸini kopyalayÄ±p yapÄ±ÅŸtÄ±rÄ±n
4. HTML dosyalarÄ±nÄ± da ekleyin:
   - `src/html-dialogs/managerMeetingDialog.html`

### 2. Test FonksiyonlarÄ±

1. `test.js` dosyasÄ±nÄ±n iÃ§eriÄŸini de ekleyin
2. `quickSystemCheck()` fonksiyonunu Ã§alÄ±ÅŸtÄ±rÄ±n
3. TÃ¼m testlerin baÅŸarÄ±lÄ± olduÄŸunu kontrol edin

## ğŸ“Š CRM FonksiyonlarÄ±

### ğŸ”§ Core CRM FonksiyonlarÄ± (1-5)

#### 1. Yeni Tablo oluÅŸtur
- **Buton:** "Yeni Tablo oluÅŸtur"
- **Ä°ÅŸlev:** Ham veri â†’ Format Tablo
- **KullanÄ±m:** Ham veriyi standart formata Ã§evirir

#### 2. Randevu al
- **Buton:** "Randevu al"
- **Ä°ÅŸlev:** Format Tablo â†’ RandevularÄ±m
- **KullanÄ±m:** SeÃ§ilen satÄ±rdan randevu oluÅŸturur

#### 3. FÄ±rsat ekle
- **Buton:** "FÄ±rsat ekle"
- **Ä°ÅŸlev:** Format Tablo â†’ FÄ±rsatlarÄ±m
- **KullanÄ±m:** SeÃ§ilen satÄ±rdan fÄ±rsat oluÅŸturur

#### 4. ToplantÄ±ya GeÃ§
- **Buton:** "ToplantÄ±ya GeÃ§"
- **Ä°ÅŸlev:** RandevularÄ±m â†’ ToplantÄ±larÄ±m
- **KullanÄ±m:** TeyitlenmiÅŸ randevuyu toplantÄ±ya Ã§evirir

#### 5. Rapor oluÅŸtur
- **Buton:** "ğŸ“Š Rapor oluÅŸtur"
- **Ä°ÅŸlev:** Pivot Table raporlarÄ± oluÅŸturur
- **KullanÄ±m:** TÃ¼m aktiviteleri analiz eder

### ğŸŒ Website Analiz FonksiyonlarÄ± (6-8)

#### 6. CMS ALTYAPI
- **Buton:** "ğŸ” CMS ALTYAPI"
- **Ä°ÅŸlev:** Website CMS tespiti
- **Ã‡Ä±ktÄ±:** CMS AdÄ±, CMS Grubu kolonlarÄ±

#### 7. E-TÄ°CARET Ä°ZÄ°
- **Buton:** "ğŸ›’ E-TÄ°CARET Ä°ZÄ°"
- **Ä°ÅŸlev:** E-ticaret tespiti
- **Ã‡Ä±ktÄ±:** E-Ticaret Ä°zi kolonu (0-100% gÃ¼ven)

#### 8. HIZ TESTÄ°
- **Buton:** "âš¡ HIZ TESTÄ°"
- **Ä°ÅŸlev:** Website hÄ±z Ã¶lÃ§Ã¼mÃ¼
- **Ã‡Ä±ktÄ±:** Site HÄ±zÄ± kolonu

### ğŸ› ï¸ Veri YÃ¶netimi FonksiyonlarÄ± (9-10)

#### 9. Telefon olmayanlarÄ± sil
- **Buton:** "Telefon olmayanlarÄ± sil"
- **Ä°ÅŸlev:** Telefon numarasÄ± olmayan satÄ±rlarÄ± siler

#### 10. Cep sabit ayarla
- **Buton:** "Cep sabit ayarla"
- **Ä°ÅŸlev:** Telefon numaralarÄ±nÄ± kategorize eder

### ğŸ”„ Senkronizasyon Sistemi (11-12)

#### 11. Otomatik Senkronizasyon
- **Trigger:** `onEdit` eventi
- **Ä°ÅŸlev:** Temsilci â†’ YÃ¶netici otomatik senkronizasyon

#### 12. Manuel Senkronizasyon
- **Buton:** "Senkronize Et"
- **Ä°ÅŸlev:** Manuel toplu senkronizasyon

## ğŸ¨ Renk KodlarÄ±

Merkezi renk kodlarÄ± `docs/RENK_KODLARI.md` dosyasÄ±nda tanÄ±mlanmÄ±ÅŸtÄ±r.

| Durum | Renk Kodu | AÃ§Ä±klama |
|-------|-----------|----------|
| Randevu AlÄ±ndÄ± | rgb(227, 242, 253) | AÃ§Ä±k Mavi |
| Ä°leri Tarih Randevu | rgb(227, 242, 253) | AÃ§Ä±k Mavi |
| Teyitlendi | rgb(232, 245, 232) | YeÅŸil |
| Ertelendi | rgb(255, 243, 224) | Turuncu |
| Ä°ptal | rgb(255, 235, 238) | KÄ±rmÄ±zÄ± |
| Yeniden Aranacak | rgb(255, 248, 225) | SarÄ± |
| Bilgi Verildi | rgb(199, 171, 235) | Mor |
| FÄ±rsat Ä°letildi | rgb(255, 248, 225) | SarÄ± |
| Ä°lgilenmiyor | rgb(255, 235, 238) | KÄ±rmÄ±zÄ± |
| UlaÅŸÄ±lamadÄ± | rgb(255, 235, 238) | KÄ±rmÄ±zÄ± |
| ToplantÄ± TamamlandÄ± | rgb(200, 230, 201) | Koyu YeÅŸil |

## ğŸ“‹ KullanÄ±m KÄ±lavuzu

### 1. Ä°lk Kurulum

```javascript
// Google Apps Script'te Ã§alÄ±ÅŸtÄ±rÄ±n
function setupCRM() {
  quickSystemCheck();
  console.log('CRM sistemi hazÄ±r!');
}
```

### 2. Yeni Tablo OluÅŸturma

1. **Ham veri** sayfasÄ±na verilerinizi yÃ¼kleyin (v3 formatÄ±)
2. CRM menÃ¼sÃ¼nden **"Yeni Tablo oluÅŸtur"** seÃ§in
3. Tablo ismini girin (Ã¶rn: "Format Tablo 1")
4. Sistem otomatik olarak:
   - TÃ¼m kolonlarÄ± eÅŸleÅŸtirir
   - Cid'yi Maplink'e dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r
   - Gerekli sistem kolonlarÄ±nÄ± ekler
   - Renk kodlamasÄ± uygular

### 3. Randevu Alma

1. **Format Tablo**'da bir satÄ±r seÃ§in
2. CRM menÃ¼sÃ¼nden **"Randevu al"** seÃ§in
3. Formu doldurun ve **"Randevu OluÅŸtur"** tÄ±klayÄ±n
4. Sistem otomatik olarak **RandevularÄ±m**'a ekler

### 4. FÄ±rsat Ekleme

1. **Format Tablo**'da bir satÄ±r seÃ§in
2. CRM menÃ¼sÃ¼nden **"FÄ±rsat ekle"** seÃ§in
3. Formu doldurun ve **"FÄ±rsat OluÅŸtur"** tÄ±klayÄ±n
4. Sistem otomatik olarak **FÄ±rsatlarÄ±m**'a ekler

### 5. ToplantÄ±ya GeÃ§me

1. **RandevularÄ±m**'da teyitlenmiÅŸ bir randevu seÃ§in
2. CRM menÃ¼sÃ¼nden **"ToplantÄ±ya GeÃ§"** seÃ§in
3. ToplantÄ± detaylarÄ±nÄ± girin
4. Sistem otomatik olarak **ToplantÄ±larÄ±m**'a ekler

### 6. Rapor OluÅŸturma

1. CRM menÃ¼sÃ¼nden **"ğŸ“Š Rapor oluÅŸtur"** seÃ§in
2. Sistem otomatik olarak **RaporlarÄ±m** sayfasÄ±nda pivot table oluÅŸturur
3. Aktivite daÄŸÄ±lÄ±mÄ± ve Ã¶zet bilgileri gÃ¶rÃ¼ntÃ¼lenir

## ğŸ”§ Test Sistemi

### HÄ±zlÄ± Test

```javascript
// Temel sistem kontrolÃ¼
quickSystemCheck();
```

### Tam Test

```javascript
// TÃ¼m fonksiyonlarÄ± test eder
testCRMSystem();
```

### Belirli Fonksiyon Testi

```javascript
// Belirli bir fonksiyonu test eder
testSpecificFunction('createNewTable');
```

## ğŸ“Š Raporlama

### Temsilci RaporlarÄ±

- **Kaynak:** KiÅŸisel aktivite verileri
- **Ä°Ã§erik:** Aktivite tÃ¼rÃ¼, sayÄ±, yÃ¼zde
- **Alt KÄ±rÄ±lÄ±mlar:** Randevu AlÄ±ndÄ± â†’ Teyitlendi/Ertelendi/Ä°ptal

### YÃ¶netici RaporlarÄ±

- **Kaynak:** TÃ¼m temsilcilerin verileri
- **Ä°Ã§erik:** Temsilci bazÄ±nda aktivite daÄŸÄ±lÄ±mÄ±
- **Filtreleme:** Tarih, temsilci, aktivite tÃ¼rÃ¼

## ğŸ”„ Senkronizasyon

### Otomatik Senkronizasyon

- **Trigger:** Her hÃ¼cre deÄŸiÅŸikliÄŸinde (`onEdit`)
- **Kapsam:** RandevularÄ±m, FÄ±rsatlarÄ±m, ToplantÄ±larÄ±m
- **HÄ±z:** AnÄ±nda (1-2 saniye)
- **Renk KodlarÄ±:** Kaynak ve hedef dosyalarda aynÄ± renkler

### Manuel Senkronizasyon

- **Buton:** CRM â†’ "Senkronize Et"
- **Kapsam:** TÃ¼m veriler
- **KullanÄ±m:** Ä°nternet sorunu, test, manuel kontrol

### GÃ¼nlÃ¼k ve HaftalÄ±k Raporlar

- **GÃ¼nlÃ¼k Rapor:** BugÃ¼nkÃ¼ aktiviteleri listeler
- **HaftalÄ±k Rapor:** Pazartesi-Pazar arasÄ± aktiviteleri sayar
- **TOPLAM KONTAK:** "UlaÅŸÄ±lamadÄ±" hariÃ§ tÃ¼m aktiviteler
- **TOPLAM Ä°ÅLEM:** TÃ¼m aktiviteler (UlaÅŸÄ±lamadÄ± dahil)

## ğŸ› ï¸ Sorun Giderme

### YaygÄ±n Sorunlar

1. **MenÃ¼ gÃ¶rÃ¼nmÃ¼yor**
   - SayfayÄ± yenileyin
   - `onOpen()` fonksiyonunu manuel Ã§alÄ±ÅŸtÄ±rÄ±n

2. **Dialog aÃ§Ä±lmÄ±yor**
   - HTML dosyalarÄ±nÄ±n doÄŸru eklendiÄŸini kontrol edin
   - Console'da hata mesajlarÄ±nÄ± kontrol edin

3. **Veri kaydedilmiyor**
   - SeÃ§ili satÄ±rÄ±n doÄŸru olduÄŸunu kontrol edin
   - BaÅŸlÄ±k satÄ±rÄ±nÄ± seÃ§mediÄŸinizden emin olun

4. **Renk kodlarÄ± Ã§alÄ±ÅŸmÄ±yor**
   - Conditional formatting ayarlarÄ±nÄ± kontrol edin
   - Durum deÄŸerlerinin doÄŸru olduÄŸunu kontrol edin

### Debug Modu

```javascript
// Debug modunu aktifleÅŸtirin
function enableDebugMode() {
  console.log('Debug mode enabled');
  // TÃ¼m console.log Ã§Ä±ktÄ±larÄ±nÄ± gÃ¶rÃ¼n
}
```

## ğŸ“ Destek

### Sistem Gereksinimleri

- Google Sheets hesabÄ±
- Apps Script eriÅŸimi
- Modern web tarayÄ±cÄ±sÄ±

### Performans

- **Website Analizi:** 200-300 URL iÃ§in ~2-3 dakika
- **Batch Ä°ÅŸlem:** 50 URL/grup
- **Timeout:** 5 saniye/URL
- **Senkronizasyon:** AnÄ±nda

## ğŸ”„ GÃ¼ncellemeler

### v1.3 (2025-01-27)
- âœ… Core CRM fonksiyonlarÄ± (1-5)
- âœ… HTML dialog template'leri
- âœ… Test sistemi
- âœ… Renk kodlama sistemi (merkezi yapÄ±landÄ±rma)
- âœ… Pivot table raporlama
- âœ… Temsilci-YÃ¶netici senkronizasyonu
- âœ… GÃ¼nlÃ¼k ve haftalÄ±k raporlar
- âœ… GeliÅŸmiÅŸ hata yÃ¶netimi
- âœ… Dinamik renk kodlama (tÃ¼m durumlar iÃ§in)

### v1.2 (2025-01-27)
- âœ… Renk kodlama iyileÅŸtirmeleri
- âœ… Veri doÄŸrulama dÃ¼zeltmeleri
- âœ… Senkronizasyon hata dÃ¼zeltmeleri

### v1.1 (2025-01-27)
- âœ… Temel CRM sistemi
- âœ… Renk kodlama sistemi
- âœ… Senkronizasyon altyapÄ±sÄ±

### v1.0 (2025-07-08)
- âœ… Core CRM fonksiyonlarÄ± (1-5)
- âœ… HTML dialog template'leri
- âœ… Test sistemi
- âœ… Renk kodlama
- âœ… Pivot table raporlama

### Gelecek SÃ¼rÃ¼mler
- ğŸ”„ Website analiz fonksiyonlarÄ± (6-8)
- ğŸ”„ Veri yÃ¶netimi fonksiyonlarÄ± (9-10)
- ğŸ”„ GeliÅŸmiÅŸ senkronizasyon sistemi (11-12)
- ğŸ”„ API entegrasyonlarÄ±
- ğŸ”„ Mobil uygulama desteÄŸi

## ğŸ“„ Lisans

Bu proje Ã¶zel kullanÄ±m iÃ§in geliÅŸtirilmiÅŸtir.

---

**ğŸ“§ Ä°letiÅŸim:** CRM Development Team  
**ğŸ“… Son GÃ¼ncelleme:** 27.01.2025  
**ğŸ”§ Versiyon:** 1.3 
